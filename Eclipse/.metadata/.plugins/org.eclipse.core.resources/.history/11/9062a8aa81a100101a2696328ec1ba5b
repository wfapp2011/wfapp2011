package de.uni_potsdam.hpi.wfapp2011.activiti.Testing;

import org.junit.Test;

import de.uni_potsdam.hpi.wfapp2011.activiti.ProcessStatus;
import de.uni_potsdam.hpi.wfapp2011.constants.Constants;
import de.uni_potsdam.hpi.wfapp2011.database.DbInterface;
import de.uni_potsdam.hpi.wfapp2011.database.SQLTableException;
import de.uni_potsdam.hpi.wfapp2011.general.ProcessIdentifier;


public class TestProcessStatus {
	
	
	@Test 
	public void testProcessStatus() throws SQLTableException {
		ProcessIdentifier process = new ProcessIdentifier("Ba", "SS", 2011);
		ProcessStatus processStatus = new ProcessStatus(process);
		DbInterface.initializeMetaTables();
		DbInterface.initializeDatabase(process.getType(), process.getSemester(), process.getYear());
		ProcessStatus activiti = new ProcessStatus(process);
		String executionId = "4910";
		assertEquals("Process is not running",processStatus.getCurrentPhase(), Constants.PROCESS_NOT_RUNNING);
		System.out.println("ProjectProposalPhase: "+activiti.isProjectProposalPhase());
		System.out.println("FinalTopicDecsionPhase: "+activiti.isFinalTopicDecisionPhase());
		System.out.println("VotingPhase: "+ activiti.isVotingPhase());
		System.out.println("ProjectMatchingPhase: "+ activiti.isProjectMatchingPhase());
	}
}
